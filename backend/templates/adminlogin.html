<!DOCTYPE html>
<html>
<head>
  <title>Admin Login</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #000;
      height: 100vh;
      overflow: hidden;
      font-family: 'Arial Black', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    .bouncing-logo {
      position: absolute;
      z-index: 1;
      opacity: 0.85;
      filter: drop-shadow(0 0 15px #00eaff) hue-rotate(0deg);
      transition: filter 0.3s ease;
      pointer-events: none;
      will-change: transform;
    }

    .login-container {
      background: #fff;
      padding: 40px 30px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
      width: 350px;
      z-index: 5;
      position: relative;
    }

    .logo {
      width: 100px;
      margin-bottom: 20px;
    }

    h2 {
      font-size: 24px;
      color: #0047ab;
      margin-bottom: 20px;
    }

    #error-msg {
      color: red;
      margin-bottom: 15px;
    }

    label {
      display: block;
      text-align: left;
      margin: 10px 0 5px;
      font-size: 14px;
      color: #333;
    }

    input {
      width: 100%;
      padding: 10px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    button {
      width: 100%;
      padding: 12px;
      margin-top: 20px;
      font-size: 16px;
      background-color: #0047ab;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }

    button:hover {
      background-color: #002f6c;
    }
  </style>
</head>
<body>

<div id="bouncer-container" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 0;"></div>

<div class="login-container">
  <img src="{{ url_for('static', filename='images/gsupantherlogo.png') }}" alt="GSU Panther Logo" class="logo">
  <h2>ADMIN LOGIN</h2>

  {% if error %}
  <div id="error-msg">{{ error }}</div>
  <script>
    setTimeout(() => {
      document.getElementById('error-msg').style.display = 'none';
    }, 5000);
  </script>
{% endif %}


  <form method="POST">
    <label for="username">Username</label>
    <input id="username" name="username" required>

    <label for="password">Password</label>
    <input id="password" type="password" name="password" required>

    <button type="submit">Login</button>
  </form>
</div>

<script>
  const NUM_LOGOS = 5;
  const container = document.getElementById('bouncer-container');
  const logos = [];

  function getRandom(min, max) {
    return Math.random() * (max - min) + min;
  }

  function getRandomFilter() {
    const hue = Math.floor(Math.random() * 360);
    const brightness = 0.8 + Math.random() * 0.4;
    const contrast = 1 + Math.random();
    return `hue-rotate(${hue}deg) brightness(${brightness}) contrast(${contrast})`;
  }

  function checkBoxCollision(a, b) {
    return !(
      a.x + a.w < b.x ||
      a.x > b.x + b.w ||
      a.y + a.h < b.y ||
      a.y > b.y + b.h
    );
  }

  function createLogo({ x, y, dx, dy, behind = false }) {
    const size = getRandom(80, 140);
    const img = document.createElement('img');
    img.src = "{{ url_for('static', filename='images/gsupantherlogo.png') }}";
    img.className = 'bouncing-logo';
    img.style.width = `${size}px`;
    img.style.height = `${size}px`;
    img.style.left = `${x}px`;
    img.style.top = `${y}px`;
    img.style.zIndex = behind ? "1" : "3";
    container.appendChild(img);

    logos.push({
      img,
      x,
      y,
      dx: Math.abs(dx) < 0.3 ? 1.5 : dx,
      dy: Math.abs(dy) < 0.3 ? 1.5 : dy,
      w: size,
      h: size,
      angle: getRandom(0, 360),
      rotationSpeed: getRandom(1, 3)
    });
  }

  for (let i = 0; i < NUM_LOGOS; i++) {
    const x = getRandom(150, window.innerWidth - 200);
    const y = getRandom(100, window.innerHeight - 250);
    const dx = getRandom(1.5, 2.5) * (Math.random() < 0.5 ? -1 : 1);
    const dy = getRandom(1.5, 4.5) * (Math.random() < 0.5 ? -1 : 1);
    createLogo({ x, y, dx, dy, behind: true });
  }

  function animate() {
    const screenW = window.innerWidth;
    const screenH = window.innerHeight;

    for (let logo of logos) {
      if (logo.x + logo.dx < 0 || logo.x + logo.dx + logo.w > screenW) {
        logo.dx = -logo.dx;
        logo.img.style.filter = getRandomFilter();
      }
      if (logo.y + logo.dy < 0 || logo.y + logo.dy + logo.h > screenH) {
        logo.dy = -logo.dy;
        logo.img.style.filter = getRandomFilter();
      }

      logo.x += logo.dx;
      logo.y += logo.dy;
      logo.angle += logo.rotationSpeed;
      logo.img.style.left = `${logo.x}px`;
      logo.img.style.top = `${logo.y}px`;
      logo.img.style.transform = `rotate(${logo.angle}deg)`;
    }

    for (let i = 0; i < logos.length; i++) {
      for (let j = i + 1; j < logos.length; j++) {
        if (checkBoxCollision(logos[i], logos[j])) {
          const tempDx = logos[i].dx;
          const tempDy = logos[i].dy;
          logos[i].dx = logos[j].dx;
          logos[i].dy = logos[j].dy;
          logos[j].dx = tempDx;
          logos[j].dy = tempDy;

          const offsetX = (logos[i].x - logos[j].x) * 0.05;
          const offsetY = (logos[i].y - logos[j].y) * 0.05;
          logos[i].x += offsetX;
          logos[i].y += offsetY;
          logos[j].x -= offsetX;
          logos[j].y -= offsetY;

          logos[i].img.style.filter = getRandomFilter();
          logos[j].img.style.filter = getRandomFilter();
        }
      }
    }

    requestAnimationFrame(animate);
  }

  animate();
</script>

</body>
</html>
